<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <appSettings>
    <!-- AutoCount Connection Configuration -->
    <!-- Per AutoCount 2.1 API documentation: https://wiki.autocountsoft.com/wiki/Initiate_UserSession_and_DBSetting -->
    
    <!-- SQL Server type: use SQL2000 for SQL Server-based AutoCount (per AutoCount 2.1 docs), or Postgres for PostgreSQL. -->
    <add key="AutoCount:DBServerType" value="SQL2000" />

    <!-- SQL Server name or IP address -->
    <add key="AutoCount:ServerName" value="tcp:LemonCoSrv\A2006" />

    <!-- AutoCount database name -->
    <add key="AutoCount:DatabaseName" value="AED_Terraganics" />

    <!-- SQL Server login username (typically 'sa' or a SQL login) -->
    <add key="AutoCount:SqlUsername" value="sa" />

    <!-- SQL Server login password -->
    <!-- WARNING: In production, use secure secret storage (e.g., Azure Key Vault, AWS Secrets Manager) -->
    <!-- Do not hardcode or store in plain text in config files -->
    <add key="AutoCount:SqlPassword" value="oCt2005-ShenZhou6_A2006" />

    <!-- AutoCount user login username -->
    <add key="AutoCount:AutoCountUsername" value="ADMIN" />

    <!-- AutoCount user login password -->
    <!-- WARNING: In production, use secure secret storage -->
    <add key="AutoCount:AutoCountPassword" value="123@admin" />
    
    <!-- Connection timeout in seconds (optional) -->
    <add key="AutoCount:ConnectionTimeoutSeconds" value="30" />
    
    <!-- Debug mode: Set to true to enable detailed error messages from AutoCount -->
    <!-- WARNING: Must be disabled for production -->
    <add key="AutoCount:DebugMode" value="false" />

    <!-- Supabase Configuration -->
    <add key="Supabase:Url" value="https://pukezienbcenozlqmunf.supabase.co" />
    <add key="Supabase:AnonKey" value="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB1a2V6aWVuYmNlbm96bHFtdW5mIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkxOTYyMDQsImV4cCI6MjA3NDc3MjIwNH0.WlMo4tKLwQi_FuAQ15LqmXz6UXHHnnEJqNojxG0PnY0" />
    <add key="Supabase:JwtSecret" value="OhYO147mYGunXEVYGmZ3cYnUb6qyH0E8cvhhoogELnF+uyLuHCNhjEBQpzUgNRqlfSNzf4WzPhZk5gONyxRj7w==" />
    <add key="Supabase:JwtIssuer" value="https://pukezienbcenozlqmunf.supabase.co/auth/v1" />

	    <!-- JWT Configuration for Lemon-co API -->
	    <add key="Jwt:Secret" value="OhYO147mYGunXEVYGmZ3cYnUb6qyH0E8cvhhoogELnF+uyLuHCNhjEBQpzUgNRqlfSNzf4WzPhZk5gONyxRj7w==" />
	    <add key="Jwt:Issuer" value="LemonCoProductionAPI" />
	    <add key="Jwt:Audience" value="LemonCoFrontend" />
	    <add key="Jwt:ExpiryMinutes" value="480" />

	    <!-- Lemon-co API credentials used for Supabase /auth/login and HTTP Basic Auth
	         endpoints such as /api/stock/update-item and /api/purchase/*. These values
	         MUST match the LEMONCO_USERNAME and LEMONCO_PASSWORD environment variables
	         configured in Supabase. -->
	    <add key="LemonCo:ApiUsername" value="LEMONCO_API_USER" />
	    <add key="LemonCo:ApiPassword" value="CHANGE_ME_STRONG_PASSWORD" />
  </appSettings>

  <system.web>
    <compilation debug="false" targetFramework="4.8" />
    <httpRuntime targetFramework="4.8" />
  </system.web>

  <system.webServer>
    <staticContent>
      <mimeMap fileExtension=".json" mimeType="application/json" />
    </staticContent>
    <handlers>
      <remove name="ExtensionlessUrlHandler-Integrated-4.0" />
      <add name="ExtensionlessUrlHandler-Integrated-4.0" path="*." verb="*" type="System.Web.Handlers.TransferRequestHandler" preCondition="integratedMode,runtimeVersionv4.0" />
    </handlers>
    <modules runAllManagedModulesForAllRequests="true" />
  </system.webServer>

  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <dependentAssembly>
        <assemblyIdentity name="Newtonsoft.Json" publicKeyToken="30ad4fe6b2a6aeed" />
        <bindingRedirect oldVersion="0.0.0.0-12.0.0.0" newVersion="12.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Http" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="0.0.0.0-5.2.7.0" newVersion="5.2.7.0" />
      </dependentAssembly>
    </assemblyBinding>
  </runtime>
</configuration>

